<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Multiplication Tables</title>
</head>
<body>
<%
String dir = "hor"; // 기본값을 hor로 설정하여 가로로 출력
try {
    String param = request.getParameter("dir");
    if (param != null && (param.equalsIgnoreCase("ver") || param.equalsIgnoreCase("hor"))) {
        dir = param.toLowerCase(); // 사용자 입력에 따라 dir 값을 설정
    }
} catch(Exception e) {}

if (dir.equalsIgnoreCase("ver")) {
    for (int i = 2; i <= 9; i++) {
        out.print(String.format("<h2>%d단</h2>", i));
        for (int j = 1; j <= 9; j++) {
            out.print(i + " * " + j + " = " + (i * j) + "&nbsp;&nbsp;&nbsp;");
        }
        out.print("<br />");
    }
} else { // 기본값인 hor 또는 잘못된 입력일 경우 모두 가로로 출력
    for (int i = 1; i <= 9; i++) {
        out.println(String.format("<h2>%d단</h2>", i));
        for (int j = 2; j <= 9; j++) {
            out.println(i + " * " + j + " = " + (i * j) + "<br />");
        }
        out.println("<br />");
    }
}
%>
</body>
</html>

